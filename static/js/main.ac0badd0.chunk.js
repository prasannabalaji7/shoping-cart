(this["webpackJsonpshoping-cart"]=this["webpackJsonpshoping-cart"]||[]).push([[0],{35:function(e,t,a){e.exports=a(48)},40:function(e,t,a){},46:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),l=a.n(c),o=a(27),s=a(28),u=a(34),i=a(31),m=(a(40),a(14)),p=a(8),E=a(10),d={textDecoration:"none",color:"white"},b=function(){var e=Object(E.c)((function(e){return e})).myCart.length,t=e>0?"(".concat(e,")"):"";return r.a.createElement("nav",{className:"nav-wrapper"},r.a.createElement(m.b,{style:d,to:"/shoping-cart",className:"brand-logo"},"Book Store"),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(m.b,{style:d,to:"/home"},"Home |")),r.a.createElement("li",null,r.a.createElement(m.b,{style:d,to:"/myOrders"},"My orders |")),r.a.createElement("li",null,r.a.createElement(m.b,{style:d,to:"/myCart"},"My Cart ",t))))},O=function(){var e=Object(E.b)();Object(n.useEffect)((function(){e({type:"GET_BOOKS",payload:{start:0,end:20}})}),[]);var t=Object(E.c)((function(e){return e})).books.map((function(e){return r.a.createElement("div",{className:"card",key:e.isbn},r.a.createElement("img",{src:e.thumbnailUrl,alt:"books"}),r.a.createElement("div",null,r.a.createElement("h4",null," ",e.title),r.a.createElement("p",{className:"wrapText"},e.description.split(".")[0])),r.a.createElement(m.b,{to:"checkout/"+e.isbn},r.a.createElement("button",{className:"primaryButton"},"Buy Button")))}));return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"box"},t))},f=function(e){var t=e.match,a=Object(E.b)(),n=Object(E.c)((function(e){return e})),c=n.books.filter((function(e){return e.isbn==t.params.bookId})),l=c.length,o=function(e){a({type:"ADD_TO_CART",payload:{id:parseInt(c[0].isbn),price:c[0].price,title:c[0].title,author:c[0].author}}),a({type:"GET_MY_CART"})};return n.error?r.a.createElement("div",{className:"checkOut"},"Please select a diffrent Book"):l?r.a.createElement("div",{className:"checkOut"},r.a.createElement("img",{src:c[0].thumbnailUrl,alt:"book"}),r.a.createElement("div",{className:"bookContent"},r.a.createElement("h3",null,c[0].title),r.a.createElement("div",null,"Price: $ ",c[0].price),r.a.createElement("div",null,"Author: ",c[0].author),r.a.createElement("div",null,"Pages: ",c[0].pages),r.a.createElement("div",null,"ISBN: ",c[0].isbn),r.a.createElement("div",{className:"buttonFooter"},r.a.createElement("button",{className:"primaryButton",onClick:o},"Add to cart"),r.a.createElement(m.b,{to:"/myCart"},r.a.createElement("button",{className:"primaryButton",onClick:o},"Buy now")))),r.a.createElement("textarea",null,c[0].description)):r.a.createElement("div",{className:"checkOut"},"Please select a diffrent Book")},h=a(7),v={books:[{isbn:"",title:"",thumbnailUrl:"",author:"",publisher:"",orderedOn:"",status:"",price:0,pages:0,description:""}],userBooks:[],myCart:[{id:"",price:0,title:"",author:""}],error:""},y=function(){var e=Object(E.b)();Object(n.useEffect)((function(){e({type:"GET_USERS_BOOKS"})}),[]);var t=v.books[0],a=Object(E.c)((function(e){return e})).userBooks;return a&&a.length&&(t=a.map((function(e){return r.a.createElement("div",{className:"myContainer"},r.a.createElement("div",{className:"myHeader"},r.a.createElement("div",null," Order Placed on : ",e.orderedOn),r.a.createElement("div",null," Status : ",e.status)),r.a.createElement("div",{className:"myMainbody"},r.a.createElement("img",{src:e.thumbnailUrl,alt:"book"}),r.a.createElement("div",{className:"bookContent"},r.a.createElement("h3",null,e.title),r.a.createElement("div",null,"Author: ",e.author),r.a.createElement("div",null,"Price: $ ",e.price))))}))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"box"},t.length?t:r.a.createElement("h3",null,"You have to purchase Books yet")))},j=a(32),S=function(){var e=Object(n.useState)(!0),t=Object(j.a)(e,2),a=t[0],c=t[1],l=Object(E.b)(),o=Object(E.c)((function(e){return e}));Object(n.useEffect)((function(){l({type:"GET_MY_CART"}),l({type:"GET_ADDRESS"})}),[]);var s=function(e){l({type:"DELETE_BOOK",payload:e.target.value}),l({type:"GET_MY_CART"})},u={itemCost:0,taxable:0,shipping:0,total:0},i="";if(o.myCart&&"object"===typeof o.myCart&&o.myCart.length){if(1==o.myCart.length){var m=o.myCart[0].price;(u={itemCost:parseFloat(m),taxable:.8*m/100,shipping:.5*m/100,total:0}).total=u.itemCost+u.taxable+u.shipping}else u=o.myCart.reduce((function(e,t){var a=parseFloat(e.price)+parseFloat(t.price),n=.8*a/100,r=.5*a/100;return{itemCost:a,taxable:n,shipping:r,total:a+n+r}}));i=o.myCart.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.price),r.a.createElement("td",null,r.a.createElement("button",{value:e.id,className:"primaryButton",onClick:s},"-")))}))}return r.a.createElement("div",{className:"checkOut"},r.a.createElement("div",{className:"flexRow"},r.a.createElement("div",null,"Shipping Address")," ",r.a.createElement("br",null),r.a.createElement("textarea",{disabled:a,defaultValue:"Please Enter Address",value:o.address,onChange:function(e){l({type:"ADDRESS_CHANGE",payload:e.target.value})}}),r.a.createElement("div",{className:"buttonFooter"},r.a.createElement("button",{className:"primaryButton",onClick:function(e){l({type:"UPDATE_ADDRESS",payload:{id:1,data:o.address}}),c(!0)}},"Save Address"),r.a.createElement("button",{className:"primaryButton",onClick:function(e){c(!a)}},"Edit Button"))),r.a.createElement("br",null),r.a.createElement("div",{className:"tableParent"},r.a.createElement("div",null," Shopping Bag "),r.a.createElement("br",null),r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Books"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Delete")),i),r.a.createElement("br",null),r.a.createElement("div",null," Payment Info "),r.a.createElement("div",null,r.a.createElement("div",{className:"checkOut"},r.a.createElement("div",null,"Item Price: "),r.a.createElement("div",null,u.itemCost.toFixed(2))),r.a.createElement("div",{className:"checkOut"},r.a.createElement("div",null,"Tax: "),r.a.createElement("div",null,u.taxable.toFixed(2))),r.a.createElement("div",{className:"checkOut"},r.a.createElement("div",null,"Shipping: "),r.a.createElement("div",null,u.shipping.toFixed(2))),r.a.createElement("hr",null),r.a.createElement("div",{className:"checkOut"},r.a.createElement("div",null,"Total: "),r.a.createElement("div",null,u.total.toFixed(2))),r.a.createElement("div",{className:"buttonFooter"},r.a.createElement("button",{className:"primaryButton"},"Checkout"),r.a.createElement("button",{className:"primaryButton"},"Cancel")))))},C=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement("header",null,r.a.createElement(b,null)),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/shoping-cart",render:function(){return r.a.createElement(p.a,{to:"/home"})}}),r.a.createElement(p.b,{exact:!0,path:"/home",component:O}),r.a.createElement(p.b,{path:"/myOrders",component:y}),r.a.createElement(p.b,{path:"/checkout/:bookId",component:f}),r.a.createElement(p.b,{path:"/myCart",component:S})))}}]),a}(r.a.Component),k=(a(46),a(33)),x=a(15),_=a(30),R=a(5),A=a.n(R),g=a(6),D="https://my-json-server.typicode.com/prasannabalaji7/fakeBookServer/",T=A.a.mark($),N=A.a.mark(V),w=A.a.mark(q),B=A.a.mark(z),U=A.a.mark(Q),G=A.a.mark(W),P=A.a.mark(X),L=A.a.mark(Z),K=A.a.mark(ee),M=A.a.mark(te),F=A.a.mark(ae),Y=A.a.mark(ne),I=A.a.mark(re),H=A.a.mark(ce),J=A.a.mark(le);function $(e){var t;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(g.b)((function(){return fetch("".concat(D,"books?_start=").concat(e.payload.start,"&_end=").concat(e.payload.end)).then((function(e){return e.json()}))}));case 3:return t=a.sent,a.next=6,Object(g.c)({type:"LOAD_SUCCESS",books:t});case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(g.c)({type:"LOAD_ERROR",error:a.t0.message});case 12:case"end":return a.stop()}}),T,null,[[0,8]])}function V(){var e;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(g.b)((function(){return fetch(D+"usersBooks").then((function(e){return e.json()}))}));case 3:return e=t.sent,t.next=6,Object(g.c)({type:"USERS_BOOK_SUCCESS",usersBooks:e});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(g.c)({type:"LOAD_ERROR",error:t.t0.message});case 12:case"end":return t.stop()}}),N,null,[[0,8]])}function q(e){var t;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(g.b)((function(){return fetch(D+"myCart",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e.payload)}).then((function(e){return e.json()}))}));case 3:return t=a.sent,a.next=6,Object(g.c)({type:"MY_CART_SUCCESS",myCart:t});case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(g.c)({type:"LOAD_ERROR",error:a.t0.message});case 12:case"end":return a.stop()}}),w,null,[[0,8]])}function z(){var e;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(g.b)((function(){return fetch(D+"myCart").then((function(e){return e.json()}))}));case 3:return e=t.sent,t.next=6,Object(g.c)({type:"MY_CART_SUCCESS",myCart:e});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(g.c)({type:"LOAD_ERROR",error:t.t0.message});case 12:case"end":return t.stop()}}),B,null,[[0,8]])}function Q(){var e;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(g.b)((function(){return fetch(D+"address/1").then((function(e){return e.json()}))}));case 3:return e=t.sent,t.next=6,Object(g.c)({type:"ADDRESS_SUCCESS",address:e.data});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(g.c)({type:"LOAD_ERROR",error:t.t0.message});case 12:case"end":return t.stop()}}),U,null,[[0,8]])}function W(e){var t;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(g.b)((function(){return fetch(D+"address/"+e.payload.id,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e.payload)}).then((function(e){return e.json()}))}));case 3:return t=a.sent,a.next=6,201===t.status;case 6:return a.abrupt("return",a.sent);case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(g.c)({type:"LOAD_ERROR",error:a.t0.message});case 13:case"end":return a.stop()}}),G,null,[[0,9]])}function X(e){var t;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(g.b)((function(){return fetch(D+"myCart/"+e.payload,{method:"DELETE"}).then((function(e){return e.json()}))}));case 3:return t=a.sent,a.next=6,201===t.status;case 6:return a.abrupt("return",a.sent);case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(g.c)({type:"LOAD_ERROR",error:a.t0.message});case 13:case"end":return a.stop()}}),P,null,[[0,9]])}function Z(e){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.d)("GET_BOOKS",$);case 2:case"end":return e.stop()}}),L)}function ee(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.e)("GET_USERS_BOOKS",V);case 2:case"end":return e.stop()}}),K)}function te(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.e)("GET_MY_CART",z);case 2:case"end":return e.stop()}}),M)}function ae(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.e)("GET_ADDRESS",Q);case 2:case"end":return e.stop()}}),F)}function ne(e){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.e)("UPDATE_ADDRESS",W);case 2:case"end":return e.stop()}}),Y)}function re(e){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.e)("ADD_TO_CART",q);case 2:case"end":return e.stop()}}),I)}function ce(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.e)("DELETE_BOOK",X);case 2:case"end":return e.stop()}}),H)}function le(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)([Z(),ee(),re(),te(),ae(),ne(),ce()]);case 2:case"end":return e.stop()}}),J)}var oe=Object(k.a)(),se=Object(x.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_BOOKS":return Object(h.a)(Object(h.a)({},e),{},{payload:t.payload,error:""});case"GET_USERS_BOOKS":case"GET_MY_CART":case"GET_ADDRESS":case"ADD_TO_CART":return Object(h.a)(Object(h.a)({},e),{},{payload:t.payload});case"LOAD_SUCCESS":return Object(h.a)(Object(h.a)({},e),{},{books:t.books});case"USERS_BOOK_SUCCESS":return Object(h.a)(Object(h.a)({},e),{},{userBooks:t.usersBooks});case"UPDATE_ADDRESS":return Object(h.a)(Object(h.a)({},e),{},{payload:t.payload});case"MY_CART_SUCCESS":return Object(h.a)(Object(h.a)({},e),{},{myCart:t.myCart});case"ADDRESS_SUCCESS":return Object(h.a)(Object(h.a)({},e),{},{address:t.address});case"ADDRESS_CHANGE":return Object(h.a)(Object(h.a)({},e),{},{address:t.payload});case"DELETE_BOOK":return Object(h.a)(Object(h.a)({},e),{},{myCart:t.payload});case"LOAD_ERROR":return Object(h.a)(Object(h.a)({},e),{},{loading:!1,error:t.error});default:return e}}),Object(x.a)(oe,_.logger));oe.run(le),l.a.render(r.a.createElement(E.a,{store:se},r.a.createElement(C,null)),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.ac0badd0.chunk.js.map